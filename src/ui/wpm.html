<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="output.css">
    <title>WPM Test</title>
</head>

<body class="
    #root#(:
        $color$='gray';
        $textColor$= 'text-black';
        $padding$= 'p-4';
        $rounded$= 'rounded-lg';
        $shadow$= 'shadow';
    :)
    #function capitalize(text)#(:
        return text.charAt(0).toUpperCase() + text.slice(1);
    :)
">
    <h1 class="text-4xl font-bold text-center my-4">$capitalize('wpm test')$</h1>
    <div class="
        bg-$color$-100 $textColor$ $padding$ $rounded$
        $shadow$ mx-auto w-3/4
    ">
        <p id="prompt" class="text-lg">The quick brown fox jumps over the lazy dog.</p>
        <input id="input" type="text" class="w-full $padding$ my-4 $rounded$" />
        <button id="submit" class="
            bg-$color$-500 text-white $padding$ $rounded$
            transition duration-300 ease-in-out transform
            #hover#(:bg-$color$-600 scale-110 shadow-lg:)
            #active#(:bg-$color$-700 scale-95 shadow-none:)
        ">
            Submit
        </button>
        <p id="result"></p>
    </div>

    <script >
        const promptText = document.getElementById('prompt').textContent;
        const wordCount = promptText.split(' ').length;
        const input = document.getElementById('input');
        const submit = document.getElementById('submit');
        const result = document.getElementById('result');

        let startTime;

        input.addEventListener('input', () => {
            if (input.value.length === 1) {
                startTime = new Date();
            }
        });

        submit.addEventListener('click', () => {
            const endTime = new Date();
            const timeTaken = (endTime - startTime) / 1000;
            const wpm = Math.round((wordCount / timeTaken) * 60);
            result.textContent = `Your WPM is `+wpm;
        });
        </script>
    </script>
</body>

</html>